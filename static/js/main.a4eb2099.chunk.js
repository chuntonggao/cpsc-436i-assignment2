(this["webpackJsonpmessage-list-no-hooks"]=this["webpackJsonpmessage-list-no-hooks"]||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(10),i=a.n(r),l=a(5),c=a(1),o=a(3),u=a(4),d=a(2),h=a(7),p=a(6),m=(a(33),a(35)),g="ADD_MESSAGE",b="DELETE_MESSAGES",y="DELETE_ALL_MESSAGES",f="TOGGLE_MESSAGES",v="TOGGLE_ALL_MESSAGES",E="UPDATE_MESSAGE",O=function(e){return{type:b,payload:{ids:e}}},j=function(){return{type:v}},k=function(e){return{type:f,payload:{ids:e}}},S=a(19),x=a.n(S),M={deleteMessages:O,toggleMessages:k,updateMessage:function(e){var t=e.id,a=e.text;return{type:E,payload:{id:t,text:a}}}},N=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={typing:!1,input:s.props.text},s.resetState=s.resetState.bind(Object(d.a)(s)),s.toggleRead=s.toggleRead.bind(Object(d.a)(s)),s.handleKeyUp=s.handleKeyUp.bind(Object(d.a)(s)),s.handleFocusOut=s.handleFocusOut.bind(Object(d.a)(s)),s.handleTyping=s.handleTyping.bind(Object(d.a)(s)),s.startTyping=s.startTyping.bind(Object(d.a)(s)),s.dispatchUpdate=s.dispatchUpdate.bind(Object(d.a)(s)),s.dispatchDelete=s.dispatchDelete.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"resetState",value:function(){this.setState({typing:!1,input:this.props.text})}},{key:"toggleRead",value:function(){var e=new Set;e.add(this.props.id),this.props.toggleMessages(e)}},{key:"handleKeyUp",value:function(e){"Enter"===e.key?(this.state.input?this.dispatchUpdate():this.dispatchDelete(),this.resetState()):"Escape"===e.key&&this.resetState()}},{key:"handleFocusOut",value:function(){this.state.input?this.dispatchUpdate():this.dispatchDelete(),this.resetState()}},{key:"handleTyping",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{input:e.target.value}))}},{key:"startTyping",value:function(){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{typing:!0}))}},{key:"dispatchUpdate",value:function(){this.props.updateMessage({id:this.props.id,text:this.state.input})}},{key:"dispatchDelete",value:function(){var e=new Set;e.add(this.props.id),this.props.deleteMessages(e)}},{key:"render",value:function(){var e=n.a.createElement("input",{type:"checkbox",className:"message-check-box",onChange:this.toggleRead,checked:this.props.read}),t=n.a.createElement("input",{autoFocus:!0,type:"text",value:this.state.input,onKeyUp:this.handleKeyUp,onBlur:this.handleFocusOut,className:"update-Box",onChange:this.handleTyping}),a=x()({"message-label":!0,"messages-strikethrough":this.props.read}),s=n.a.createElement("label",{onClick:this.startTyping,className:a},this.props.text),r=n.a.createElement("button",{className:"delete-btn",onClick:this.dispatchDelete},"x");return n.a.createElement("li",null,e,this.state.typing?t:s,r)}}]),a}(n.a.Component),T=Object(l.b)(null,M)(N),C={addMessage:function(e){return{type:g,payload:{text:e,id:Object(m.a)()}}},toggleAllMessages:j},A={input:"",typing:!1},w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).formRef=void 0,s.state=A,s.clearForm=s.clearForm.bind(Object(d.a)(s)),s.createMessage=s.createMessage.bind(Object(d.a)(s)),s.handleKeyUp=s.handleKeyUp.bind(Object(d.a)(s)),s.formRef=n.a.createRef(),s.handleFocus=s.handleFocus.bind(Object(d.a)(s)),s.handleChange=s.handleChange.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"clearForm",value:function(){this.setState(A),this.formRef.current&&this.formRef.current.reset()}},{key:"createMessage",value:function(){this.props.addMessage(this.state.input),this.setState(A)}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&(this.props.addMessage(this.state.input),this.setState(A))}},{key:"handleFocus",value:function(){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{typing:!0}))}},{key:"handleChange",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{input:e.target.value}))}},{key:"render",value:function(){var e=n.a.createElement("input",{id:"toggle-all-btn",type:"checkbox",onClick:this.props.toggleAllMessages}),t=n.a.createElement("form",{id:"create-message-form",ref:this.formRef},n.a.createElement("input",{id:"create-message-input",type:"text",placeholder:"Add a new message",onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onChange:this.handleChange,value:this.state.input})),a=n.a.createElement("button",{className:"delete-btn",onClick:this.clearForm},"x"),s=n.a.createElement("button",{id:"create-message-btn",onClick:this.createMessage},"+");return n.a.createElement(n.a.Fragment,null,e,t,a,this.state.typing&&s)}}]),a}(n.a.Component),D=Object(l.b)(null,C)(w),U={deleteMessages:O,deleteAllMessages:function(){return{type:y}},toggleMessages:k,toggleAllMessages:j},F={selectedIds:new Set},L=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state=F,e}return Object(u.a)(a,[{key:"render",value:function(){var e=n.a.createElement("input",{id:"toggle-all-btn",className:"hide",type:"checkbox",onClick:this.props.toggleAllMessages}),t=this.props.messages.map((function(e){return n.a.createElement(T,{text:e.text,read:e.read,id:e.id,key:e.id})}));return n.a.createElement("div",{className:"content-div"},n.a.createElement("div",{className:"message-create-div"},this.props.messages.length>0&&e,n.a.createElement(D,null)),n.a.createElement("div",{className:"messages-view-box"},n.a.createElement("br",null),n.a.createElement("ul",null,t)),n.a.createElement("a",{id:"delete-all-button",onClick:this.props.deleteAllMessages},"DELETE ALL"))}}]),a}(n.a.Component),G=Object(l.b)((function(e){return{messages:e.messageList.messages}}),U)(L),K=function(){return n.a.createElement("div",{className:"tutorial-div"},n.a.createElement("h2",null,"Track your messages"),n.a.createElement("div",{className:"feature-div"},n.a.createElement("span",{className:"feature-title"},"1-ADD"),n.a.createElement("div",{className:"feature-text"},"Add a new message by pressing the enter key or tap the '+' button.")),n.a.createElement("div",{className:"feature-div"},n.a.createElement("span",{className:"feature-title"},"2-SEE"),n.a.createElement("div",{className:"feature-text"},"You'll see it right after you add a message. Your latest message will appear first on the list.")),n.a.createElement("div",{className:"feature-div"},n.a.createElement("span",{className:"feature-title"},"3-CHECK"),n.a.createElement("div",{className:"feature-text"},"Check off what you've read with the dark blue checkbox next to your message. Mark all your messages as read with the dark blue check button.")),n.a.createElement("div",{className:"feature-div"},n.a.createElement("span",{className:"feature-title"},"4-CHANGE"),n.a.createElement("div",{className:"feature-text"},"Make changes by tapping on your message. Save it by pressing the enter key or tapping outside of the box. Cancel your change by pressing escape key on your keyword.")),n.a.createElement("div",{className:"feature-div"},n.a.createElement("span",{className:"feature-title"},"5-DELETE"),n.a.createElement("div",{className:"feature-text"},"Delete your message by tapping the 'x' button next to your message. Delete all messages by tapping the 'x' button on the top.")))},R=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={showTutorial:!1},s.toggleTutorial=s.toggleTutorial.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"toggleTutorial",value:function(){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{showTutorial:!this.state.showTutorial}))}},{key:"render",value:function(){var e=n.a.createElement("button",{id:"tutorial-btn",onClick:this.toggleTutorial},"?"),t=n.a.createElement("div",{className:"header-div"},n.a.createElement("div",{className:"title-div"},n.a.createElement("span",{className:"title"},n.a.createElement("a",{href:"#"},"Your Messages")),n.a.createElement("span",{className:"author"},n.a.createElement("a",{href:"https://cgao.info"},"\xa0 Chuntong Gao \xa0")),e));return n.a.createElement("div",{className:"app-container"},t,this.state.showTutorial&&n.a.createElement(K,null),n.a.createElement(G,null),n.a.createElement("div",{className:"spacer"}))}}]),a}(n.a.Component),_=a(8),B=a(20),Y=a(15),H=a(16),I={messages:[{text:"This is a read message",read:!0,id:Object(m.a)()},{text:"This is an unread message",read:!1,id:Object(m.a)()}]},J=Object(_.combineReducers)({messageList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a=t.payload,s=a.text,n=a.id,r={text:s,read:!1,id:n};return{messages:[].concat(Object(H.a)(e.messages),[r])};case b:var i=e.messages.filter((function(e){return!t.payload.ids.has(e.id)}));return{messages:i};case y:return{messages:[]};case f:var l=e.messages.map((function(e){return t.payload.ids.has(e.id)?Object(c.a)(Object(c.a)({},e),{},{read:!e.read}):e}));return{messages:l};case v:var o,u=e.messages.length,d=0,h=Object(Y.a)(e.messages);try{for(h.s();!(o=h.n()).done;){var p=o.value;!0===p.read&&(d+=1)}}catch(T){h.e(T)}finally{h.f()}var m=e.messages.map((function(e){return d===u?Object(c.a)(Object(c.a)({},e),{},{read:!1}):Object(c.a)(Object(c.a)({},e),{},{read:!0})}));return{messages:m};case E:var O,j=Object(H.a)(e.messages),k=t.payload,S=k.id,x=k.text,M=Object(Y.a)(j);try{for(M.s();!(O=M.n()).done;){var N=O.value;N.id===S&&(N.text=x)}}catch(T){M.e(T)}finally{M.f()}return{messages:j};default:return e}}}),P=function(){var e=_.applyMiddleware.apply(void 0,[]);return Object(_.createStore)(J,Object(B.composeWithDevTools)(e))}();i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,{store:P},n.a.createElement(R,null))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a4eb2099.chunk.js.map